{"level":"info","ts":"2023-02-28T18:40:26.536Z","caller":"probes/healthz.go:23","msg":"healthz server starting at :8765"}
{"level":"info","ts":"2023-02-28T18:40:26.536Z","caller":"stats/stats.go:96","msg":"Stats server starting at :9091"}
{"level":"warn","ts":"2023-02-28T18:40:26.561Z","logger":"gloo","caller":"kube/factory.go:97","msg":"LeaseDuarion str: 3s","version":"1.0.0-ci"}
{"level":"warn","ts":"2023-02-28T18:40:26.561Z","logger":"gloo","caller":"kube/factory.go:100","msg":"LeaseDuarion str is not empty","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:26.561Z","logger":"gloo","caller":"kube/factory.go:87","msg":"Starting Kube Leader Election","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:26.561Z","logger":"gloo.v1.event_loop","caller":"v1/setup_event_loop.sk.go:79","msg":"event loop started","version":"1.0.0-ci"}
I0228 18:40:26.562016       1 leaderelection.go:248] attempting to acquire leader lease gloo-system/gloo...
{"level":"debug","ts":"2023-02-28T18:40:26.568Z","logger":"gloo","caller":"kube/factory.go:74","msg":"New Leader Elected with Identity: gloo-c98f6c6d7-c26s2_747d0cdb-5cfe-4cf1-9c6e-7eb9d8725a84","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:26.568Z","caller":"setup/setup.go:39","msg":"new leader elected with ID: gloo-c98f6c6d7-c26s2_747d0cdb-5cfe-4cf1-9c6e-7eb9d8725a84"}
{"level":"debug","ts":"2023-02-28T18:40:26.670Z","logger":"gloo.v1.event_loop","caller":"setuputils/setup_syncer.go:53","msg":"received settings snapshot","version":"1.0.0-ci","settings":"discovery_namespace:\"gloo-system\" watch_namespaces:\"gloo-system\" kubernetes_config_source:{} kubernetes_secret_source:{} kubernetes_artifact_source:{} refresh_rate:{seconds:60} linkerd:true discovery:{fds_mode:WHITELIST uds_options:{}} gloo:{xds_bind_addr:\"0.0.0.0:9977\" invalid_config_policy:{replace_invalid_routes:true invalid_route_response_code:404 invalid_route_response_body:\"Gloo Gateway has invalid configuration.\"} disable_proxy_garbage_collection:{} rest_xds_bind_addr:\"0.0.0.0:9976\" enable_rest_eds:{} proxy_debug_bind_addr:\"0.0.0.0:9966\"} gateway:{validation:{proxy_validation_server_addr:\"gloo:9988\" always_accept:{} allow_warnings:{value:true} warn_route_short_circuiting:{} disable_transformation_validation:{} validation_server_grpc_max_size_bytes:{value:104857600} server_enabled:{value:true}} persist_proxy_spec:{value:true} enable_gateway_controller:{value:true} isolate_virtual_hosts_by_ssl_config:{}} metadata:{name:\"default\" namespace:\"gloo-system\" resource_version:\"36189\" labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"settings\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:8} namespaced_statuses:{}"}
{"level":"info","ts":"2023-02-28T18:40:26.830Z","logger":"gloo.v1.event_loop.setup.v1.event_loop","caller":"v1/eds_event_loop.sk.go:79","msg":"event loop started","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:26.939Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:35","msg":"begin sync 123144372740139211 (22 upstreams)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:26.941Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:41","msg":"Upstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:26.941Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"ec2/eds.go:22","msg":"calling WatchEndpoints on EC2","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:26.941Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/discovery.go:193","msg":"Received first EDS update from plugin: *ec2.plugin","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.041Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:65","msg":"end sync 123144372740139211","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.042Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/discovery.go:193","msg":"Received first EDS update from plugin: *kubernetes.plugin","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.044Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:773","msg":"Setting up gateway translator","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.044Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"gloosnapshot/api_event_loop.sk.go:79","msg":"event loop started","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.057Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:900","msg":"starting gateway validation server","version":"1.0.0-ci","port":8443,"cert":"/etc/gateway/validation-certs/tls.crt","key":"/etc/gateway/validation-certs/tls.key"}
{"level":"debug","ts":"2023-02-28T18:40:27.057Z","logger":"gloo.v1.event_loop.setup","caller":"k8sadmission/validating_admission_webhook.go:154","msg":"validation-webhook-certificate-watcher2023/02/28 18:40:27 start validating admission webhook certificate change watcher goroutine\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.058Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:107","msg":"pushing notifications","version":"1.0.0-ci","validator":{}}
{"level":"debug","ts":"2023-02-28T18:40:27.058Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.059Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 12143365684142720202 (1 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.061Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} address:\"10.244.0.16\" port:5678 metadata:{name:\"ep-10-244-0-16-5678-bbfb9a77cebfb130\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"app\" value:\"echo-app-for-robustness-test\"} labels:{key:\"pod-template-hash\" value:\"74fc57976c\"}} upstreams:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} address:\"10.244.0.16\" port:5678 metadata:{name:\"ep-10-244-0-16-5678-cf601940446134e6\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"app\" value:\"echo-app-for-robustness-test\"} labels:{key:\"pod-template-hash\" value:\"74fc57976c\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} name:\"route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}}}} namespaced_statuses:{} metadata:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\" resource_version:\"36250\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.061Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:132","msg":"desired proxy name:\"gateway-proxy\" namespace:\"gloo-system\"","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.062Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"validation/server.go:189","msg":"received proxy validation request","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.062Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.062Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.063Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.064Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.064Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.echo-app-for-robustness-test] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.065Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.070Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.070Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:297","msg":"replacing route in virtual host with invalid cluster","version":"1.0.0-ci","cluster":"kube-svc:gloo-system-echo-app-for-robustness-test2-5678_gloo-system","route":1,"virtualhost":0}
{"level":"info","ts":"2023-02-28T18:40:27.087Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 12143365684142720202","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.088Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.088Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.088Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.090Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 15104074042664415725 (1 proxies, 22 upstreams, 4 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.092Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} address:\"10.244.0.16\" port:5678 metadata:{name:\"ep-10-244-0-16-5678-bbfb9a77cebfb130\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"app\" value:\"echo-app-for-robustness-test\"} labels:{key:\"pod-template-hash\" value:\"74fc57976c\"}} upstreams:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} address:\"10.244.0.16\" port:5678 metadata:{name:\"ep-10-244-0-16-5678-cf601940446134e6\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"app\" value:\"echo-app-for-robustness-test\"} labels:{key:\"pod-template-hash\" value:\"74fc57976c\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} name:\"route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}}}} namespaced_statuses:{} metadata:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\" resource_version:\"36250\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.098Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.098Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.099Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.100Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.100Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.echo-app-for-robustness-test] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.101Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"warn","ts":"2023-02-28T18:40:27.102Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:142","msg":"Proxy had invalid config","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"2 errors occurred:\n\t* invalid resource gloo-system.gateway-proxy\n\t* WARN: \n  [Route Warning: InvalidDestinationWarning. Reason: *v1.Upstream { gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test2-5678 } not found]\n\n"}
{"level":"debug","ts":"2023-02-28T18:40:27.102Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.102Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:297","msg":"replacing route in virtual host with invalid cluster","version":"1.0.0-ci","cluster":"kube-svc:gloo-system-echo-app-for-robustness-test2-5678_gloo-system","route":1,"virtualhost":0}
{"level":"warn","ts":"2023-02-28T18:40:27.102Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:150","msg":"Proxy had invalid config after xds sanitization","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"2 errors occurred:\n\t* invalid resource gloo-system.gateway-proxy\n\t* WARN: \n  [Route Warning: InvalidDestinationWarning. Reason: *v1.Upstream { gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test2-5678 } not found]\n\n"}
{"level":"info","ts":"2023-02-28T18:40:27.102Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:169","msg":"Setting xDS Snapshot","version":"1.0.0-ci","key":"gloo-system~gateway-proxy","clusters":23,"listeners":2,"routes":1,"endpoints":22}
{"level":"debug","ts":"2023-02-28T18:40:27.103Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:175","msg":"Full snapshot for proxy gateway-proxy: &{Endpoints:{Version:15735094064740418701-2054330517577277754 Items:map[gloo-system-echo-app-for-robustness-test-5678_gloo-system-1310200787346482664:0xc001485770 gloo-system-gateway-proxy-443_gloo-system-11528874779248067123:0xc0014857c0 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317:0xc0014857e0 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312:0xc0014857d0 gloo-system-gloo-443_gloo-system-10387889806944642835:0xc0014857f0 gloo-system-gloo-9966_gloo-system-9130268964301561992:0xc001485800 gloo-system-gloo-9976_gloo-system-17529199821834630327:0xc001485810 gloo-system-gloo-9977_gloo-system-4628636165026317825:0xc001485820 gloo-system-gloo-9979_gloo-system-6900652158160467341:0xc001485830 gloo-system-gloo-9988_gloo-system-9290860991666383861:0xc001485840 gloo-system-testrunner-1234_gloo-system-11963293539447349576:0xc001485790 kube-svc:gloo-system-echo-app-for-robustness-test-5678_gloo-system-10118981587288799960:0xc0014857a0 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639:0xc001485850 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041:0xc001485870 kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708:0xc001485860 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323:0xc001485880 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356:0xc001485890 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251:0xc0014858a0 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089:0xc0014858b0 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033:0xc0014858c0 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057:0xc0014858d0 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672:0xc0014857b0]} Clusters:{Version:15735094064740418701 Items:map[fallback_cluster_for_invalid_routes:0xc001cd6410 gloo-system-echo-app-for-robustness-test-5678_gloo-system:0xc0014858e0 gloo-system-gateway-proxy-443_gloo-system:0xc001485900 gloo-system-gateway-proxy-8087_gloo-system:0xc001485920 gloo-system-gateway-proxy-80_gloo-system:0xc001485910 gloo-system-gloo-443_gloo-system:0xc001485930 gloo-system-gloo-9966_gloo-system:0xc001485940 gloo-system-gloo-9976_gloo-system:0xc001485950 gloo-system-gloo-9977_gloo-system:0xc001485960 gloo-system-gloo-9979_gloo-system:0xc001485970 gloo-system-gloo-9988_gloo-system:0xc001485980 gloo-system-testrunner-1234_gloo-system:0xc001485990 kube-svc:gloo-system-echo-app-for-robustness-test-5678_gloo-system:0xc0014859a0 kube-svc:gloo-system-gateway-proxy-443_gloo-system:0xc0014859b0 kube-svc:gloo-system-gateway-proxy-8087_gloo-system:0xc0014859d0 kube-svc:gloo-system-gateway-proxy-80_gloo-system:0xc0014859c0 kube-svc:gloo-system-gloo-443_gloo-system:0xc0014859e0 kube-svc:gloo-system-gloo-9966_gloo-system:0xc0014859f0 kube-svc:gloo-system-gloo-9976_gloo-system:0xc001485a00 kube-svc:gloo-system-gloo-9977_gloo-system:0xc001485a10 kube-svc:gloo-system-gloo-9979_gloo-system:0xc001485a20 kube-svc:gloo-system-gloo-9988_gloo-system:0xc001485a30 kube-svc:gloo-system-testrunner-1234_gloo-system:0xc001485a40]} Routes:{Version:17022141483877644286 Items:map[listener-::-8080-routes:0xc001cd6000]} Listeners:{Version:13673054521084217904 Items:map[fallback_listener_for_invalid_routes:0xc001cd6400 listener-::-8080:0xc001485a50]}}","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.104Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}:{[Route Warning: InvalidDestinationWarning. Reason: *v1.Upstream { gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test2-5678 } not found] <nil> []} namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:27.104Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 15104074042664415725","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.106Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:267","msg":"proxy list updated","version":"1.0.0-ci","len(proxyList)":1,"currentHash":14695981039346656037,"previousProxyStatusHash":0}
{"level":"debug","ts":"2023-02-28T18:40:27.106Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.106Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.106Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:27.106Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"error","ts":"2023-02-28T18:40:27.940Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer.kubernetes_eds","caller":"kubernetes/eds.go:208","msg":"upstream gloo-system.gloo-system-echo-app-for-robustness-test-5678: port 5678 not found for service echo-app-for-robustness-test","version":"1.0.0-ci","stacktrace":"github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes.(*edsWatcher).List\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes/eds.go:208\ngithub.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes.(*edsWatcher).watch.func1\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes/eds.go:229\ngithub.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes.(*edsWatcher).watch.func2\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes/eds.go:256"}
{"level":"error","ts":"2023-02-28T18:40:27.940Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer.kubernetes_eds","caller":"kubernetes/eds.go:208","msg":"upstream gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test-5678: port 5678 not found for service echo-app-for-robustness-test","version":"1.0.0-ci","stacktrace":"github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes.(*edsWatcher).List\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes/eds.go:208\ngithub.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes.(*edsWatcher).watch.func1\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes/eds.go:229\ngithub.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes.(*edsWatcher).watch.func2\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/plugins/kubernetes/eds.go:256"}
{"level":"debug","ts":"2023-02-28T18:40:28.062Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:94","msg":"last validation snapshot","version":"1.0.0-ci","latestSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} address:\"10.244.0.16\" port:5678 metadata:{name:\"ep-10-244-0-16-5678-bbfb9a77cebfb130\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"app\" value:\"echo-app-for-robustness-test\"} labels:{key:\"pod-template-hash\" value:\"74fc57976c\"}} upstreams:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} address:\"10.244.0.16\" port:5678 metadata:{name:\"ep-10-244-0-16-5678-cf601940446134e6\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"app\" value:\"echo-app-for-robustness-test\"} labels:{key:\"pod-template-hash\" value:\"74fc57976c\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} name:\"route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}}}} namespaced_statuses:{} metadata:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\" resource_version:\"36250\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:28.064Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:95","msg":"current validation snapshot","version":"1.0.0-ci","currentSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:28.064Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:97","msg":"validation hash changed: true","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.064Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:107","msg":"pushing notifications","version":"1.0.0-ci","validator":{}}
{"level":"debug","ts":"2023-02-28T18:40:28.064Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:28.065Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 1505513992388220747 (0 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.069Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"translator/http_translator.go:28","msg":"1505513992388220747 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.069Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"translator/http_translator.go:28","msg":"1505513992388220747 had no virtual services","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:28.083Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 1505513992388220747","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.084Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.084Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:28.085Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 1505513992388220747 (1 proxies, 22 upstreams, 8 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.087Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.088Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.088Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.089Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:28.090Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.090Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.echo-app-for-robustness-test] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:28.091Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"warn","ts":"2023-02-28T18:40:28.092Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:142","msg":"Proxy had invalid config","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"4 errors occurred:\n\t* invalid resource gloo-system.gloo-system-echo-app-for-robustness-test-5678\n\t* Upstream name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" references the service \"echo-app-for-robustness-test\" which does not exist in namespace \"gloo-system\"\n\t* Upstream name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" references the service \"echo-app-for-robustness-test\" which does not exist in namespace \"gloo-system\"\n\t* WARN: \n  [Route Warning: InvalidDestinationWarning. Reason: *v1.Upstream { gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test2-5678 } not found]\n\n"}
{"level":"debug","ts":"2023-02-28T18:40:28.092Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-upstream-remover","caller":"sanitizer/upstream_removing_sanitizer.go:50","msg":"removing errored upstreams and checking consistency","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.092Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.093Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:297","msg":"replacing route in virtual host with invalid cluster","version":"1.0.0-ci","cluster":"kube-svc:gloo-system-echo-app-for-robustness-test-5678_gloo-system","route":0,"virtualhost":0}
{"level":"debug","ts":"2023-02-28T18:40:28.093Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:297","msg":"replacing route in virtual host with invalid cluster","version":"1.0.0-ci","cluster":"kube-svc:gloo-system-echo-app-for-robustness-test2-5678_gloo-system","route":1,"virtualhost":0}
{"level":"warn","ts":"2023-02-28T18:40:28.093Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:150","msg":"Proxy had invalid config after xds sanitization","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"4 errors occurred:\n\t* invalid resource gloo-system.gateway-proxy\n\t* WARN: \n  [Route Warning: InvalidDestinationWarning. Reason: *v1.Upstream { gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test2-5678 } not found]\n\t* WARN: \n  [1 error occurred:\n\t* Upstream name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" references the service \"echo-app-for-robustness-test\" which does not exist in namespace \"gloo-system\"\n\n]\n\t* WARN: \n  [1 error occurred:\n\t* Upstream name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" references the service \"echo-app-for-robustness-test\" which does not exist in namespace \"gloo-system\"\n\n]\n\n"}
{"level":"info","ts":"2023-02-28T18:40:28.093Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:169","msg":"Setting xDS Snapshot","version":"1.0.0-ci","key":"gloo-system~gateway-proxy","clusters":21,"listeners":2,"routes":1,"endpoints":20}
{"level":"debug","ts":"2023-02-28T18:40:28.094Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:175","msg":"Full snapshot for proxy gateway-proxy: &{Endpoints:{Version:15735094064740418701-5691232609959053208 Items:map[gloo-system-gateway-proxy-443_gloo-system-11528874779248067123:0xc0010eac80 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317:0xc0010ead00 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312:0xc0010eace0 gloo-system-gloo-443_gloo-system-10387889806944642835:0xc0010ead80 gloo-system-gloo-9966_gloo-system-9130268964301561992:0xc0010ead90 gloo-system-gloo-9976_gloo-system-17529199821834630327:0xc0010eada0 gloo-system-gloo-9977_gloo-system-4628636165026317825:0xc0010eadb0 gloo-system-gloo-9979_gloo-system-6900652158160467341:0xc0010eadd0 gloo-system-gloo-9988_gloo-system-9290860991666383861:0xc0010eade0 gloo-system-testrunner-1234_gloo-system-11963293539447349576:0xc0010ead10 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639:0xc0010ead20 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041:0xc0010ead40 kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708:0xc0010ead30 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323:0xc0010eae00 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356:0xc0010eae10 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251:0xc0010eae20 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089:0xc0010eae30 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033:0xc0010eae40 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057:0xc0010eae50 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672:0xc0010ead50]} Clusters:{Version:15735094064740418701 Items:map[fallback_cluster_for_invalid_routes:0xc0010ebb20 gloo-system-gateway-proxy-443_gloo-system:0xc0010eaea0 gloo-system-gateway-proxy-8087_gloo-system:0xc0010eaef0 gloo-system-gateway-proxy-80_gloo-system:0xc0010eaee0 gloo-system-gloo-443_gloo-system:0xc0010eaf00 gloo-system-gloo-9966_gloo-system:0xc0010eaf10 gloo-system-gloo-9976_gloo-system:0xc0010eaf20 gloo-system-gloo-9977_gloo-system:0xc0010eaf40 gloo-system-gloo-9979_gloo-system:0xc0010eaf50 gloo-system-gloo-9988_gloo-system:0xc0010eaf60 gloo-system-testrunner-1234_gloo-system:0xc0010eaf70 kube-svc:gloo-system-gateway-proxy-443_gloo-system:0xc0010eaf90 kube-svc:gloo-system-gateway-proxy-8087_gloo-system:0xc0010eafb0 kube-svc:gloo-system-gateway-proxy-80_gloo-system:0xc0010eafa0 kube-svc:gloo-system-gloo-443_gloo-system:0xc0010eafc0 kube-svc:gloo-system-gloo-9966_gloo-system:0xc0010eafd0 kube-svc:gloo-system-gloo-9976_gloo-system:0xc0010eafe0 kube-svc:gloo-system-gloo-9977_gloo-system:0xc0010eaff0 kube-svc:gloo-system-gloo-9979_gloo-system:0xc0010eb000 kube-svc:gloo-system-gloo-9988_gloo-system:0xc0010eb010 kube-svc:gloo-system-testrunner-1234_gloo-system:0xc0010eb020]} Routes:{Version:17022141483877644286 Items:map[listener-::-8080-routes:0xc0010eb5e0]} Listeners:{Version:13673054521084217904 Items:map[fallback_listener_for_invalid_routes:0xc0010ebb10 listener-::-8080:0xc0010eb030]}}","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.096Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}:{[Route Warning: InvalidDestinationWarning. Reason: *v1.Upstream { gloo-system.kube-svc:gloo-system-echo-app-for-robustness-test2-5678 } not found] <nil> []} namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}}:{[1 error occurred:\n\t* Upstream name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" references the service \"echo-app-for-robustness-test\" which does not exist in namespace \"gloo-system\"\n\n] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}}:{[1 error occurred:\n\t* Upstream name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" references the service \"echo-app-for-robustness-test\" which does not exist in namespace \"gloo-system\"\n\n] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:28.097Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 1505513992388220747","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.097Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.099Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"translator/http_translator.go:28","msg":"1505513992388220747 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:28.099Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"translator/http_translator.go:28","msg":"1505513992388220747 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.064Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:94","msg":"last validation snapshot","version":"1.0.0-ci","latestSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.echo-app-for-robustness-test\" domains:\"app\" routes:{matchers:{prefix:\"/1\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_echo-app-for-robustness-test_route:route\"} routes:{matchers:{prefix:\"/2\"} route_action:{single:{kube:{ref:{name:\"echo-app-for-robustness-test2\" namespace:\"gloo-system\"} port:5678}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}} metadata_static:{sources:{resource_ref:{name:\"echo-app-for-robustness-test\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36383\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{} metadata:{name:\"gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\" resource_version:\"36233\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:1} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-echo-app-for-robustness-test-5678\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"app\" value:\"echo-app-for-robustness-test\"}} kube:{service_name:\"echo-app-for-robustness-test\" service_namespace:\"gloo-system\" service_port:5678 selector:{key:\"app\" value:\"echo-app-for-robustness-test\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:29.067Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:95","msg":"current validation snapshot","version":"1.0.0-ci","currentSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:29.067Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:97","msg":"validation hash changed: true","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.067Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:107","msg":"pushing notifications","version":"1.0.0-ci","validator":{}}
{"level":"debug","ts":"2023-02-28T18:40:29.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.068Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 382530643830366252 (0 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.070Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.071Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"translator/http_translator.go:28","msg":"382530643830366252 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.072Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"translator/http_translator.go:28","msg":"382530643830366252 had no virtual services","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.072Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 382530643830366252","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.072Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.072Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.073Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 382530643830366252 (0 proxies, 20 upstreams, 8 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.075Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.077Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.077Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 382530643830366252","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.077Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.672Z","logger":"gloo.v1.event_loop","caller":"setuputils/setup_syncer.go:53","msg":"received settings snapshot","version":"1.0.0-ci","settings":"discovery_namespace:\"gloo-system\" watch_namespaces:\"gloo-system\" kubernetes_config_source:{} kubernetes_secret_source:{} kubernetes_artifact_source:{} refresh_rate:{seconds:60} linkerd:true discovery:{fds_mode:WHITELIST uds_options:{}} gloo:{xds_bind_addr:\"0.0.0.0:9977\" invalid_config_policy:{replace_invalid_routes:true invalid_route_response_code:404 invalid_route_response_body:\"Gloo Gateway has invalid configuration.\"} disable_proxy_garbage_collection:{} rest_xds_bind_addr:\"0.0.0.0:9976\" enable_rest_eds:{} proxy_debug_bind_addr:\"0.0.0.0:9966\"} gateway:{validation:{proxy_validation_server_addr:\"gloo:9988\" always_accept:{value:true} allow_warnings:{value:true} warn_route_short_circuiting:{} disable_transformation_validation:{} validation_server_grpc_max_size_bytes:{value:104857600} server_enabled:{value:true}} persist_proxy_spec:{value:true} enable_gateway_controller:{value:true} isolate_virtual_hosts_by_ssl_config:{}} metadata:{name:\"default\" namespace:\"gloo-system\" resource_version:\"36409\" labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"settings\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:9} namespaced_statuses:{}"}
{"level":"debug","ts":"2023-02-28T18:40:29.673Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:847","msg":"context cancelled","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.823Z","logger":"gloo.v1.event_loop.setup.v1.event_loop","caller":"v1/eds_event_loop.sk.go:79","msg":"event loop started","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.932Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:35","msg":"begin sync 16416934035228934955 (20 upstreams)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.934Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:41","msg":"Upstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:29.934Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"ec2/eds.go:22","msg":"calling WatchEndpoints on EC2","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:29.935Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/discovery.go:193","msg":"Received first EDS update from plugin: *ec2.plugin","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.036Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:65","msg":"end sync 16416934035228934955","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.037Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/discovery.go:193","msg":"Received first EDS update from plugin: *kubernetes.plugin","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.038Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:773","msg":"Setting up gateway translator","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.038Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"gloosnapshot/api_event_loop.sk.go:79","msg":"event loop started","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.044Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:900","msg":"starting gateway validation server","version":"1.0.0-ci","port":8443,"cert":"/etc/gateway/validation-certs/tls.crt","key":"/etc/gateway/validation-certs/tls.key"}
{"level":"debug","ts":"2023-02-28T18:40:30.044Z","logger":"gloo.v1.event_loop.setup","caller":"k8sadmission/validating_admission_webhook.go:154","msg":"validation-webhook-certificate-watcher2023/02/28 18:40:30 start validating admission webhook certificate change watcher goroutine\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.044Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:107","msg":"pushing notifications","version":"1.0.0-ci","validator":{}}
{"level":"debug","ts":"2023-02-28T18:40:30.044Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.045Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 382530643830366252 (0 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.046Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.047Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"translator/http_translator.go:28","msg":"382530643830366252 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.048Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"translator/http_translator.go:28","msg":"382530643830366252 had no virtual services","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.048Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 382530643830366252","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.048Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.048Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.048Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 382530643830366252 (0 proxies, 20 upstreams, 8 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.050Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.051Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:30.051Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 382530643830366252","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.051Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:267","msg":"proxy list updated","version":"1.0.0-ci","len(proxyList)":0,"currentHash":14695981039346656037,"previousProxyStatusHash":0}
{"level":"debug","ts":"2023-02-28T18:40:30.052Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.052Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.052Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.052Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"translator/http_translator.go:28","msg":"382530643830366252 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:30.053Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"translator/http_translator.go:28","msg":"382530643830366252 had no virtual services","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.048Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:94","msg":"last validation snapshot","version":"1.0.0-ci","latestSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:32.050Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:95","msg":"current validation snapshot","version":"1.0.0-ci","currentSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:32.050Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:97","msg":"validation hash changed: false","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.050Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.051Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 15791954814559840885 (2 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.053Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.053Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:132","msg":"desired proxy name:\"gateway-proxy\" namespace:\"gloo-system\"","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"validation/server.go:189","msg":"received proxy validation request","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-invalid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-valid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"warn","ts":"2023-02-28T18:40:32.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"reconciler/proxy_reconciler.go:127","msg":"Proxy had invalid config","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"2 errors occurred:\n\t* invalid resource gloo-system.i-am-invalid\n\t* invalid route: route must specify an action\n\n"}
{"level":"warn","ts":"2023-02-28T18:40:32.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"reconciler/proxy_reconciler.go:241","msg":"stripping invalid virtualhost from proxy","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","listener":"listener-::-8080","virtual host":"gloo-system.i-am-invalid"}
{"level":"info","ts":"2023-02-28T18:40:32.071Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 15791954814559840885","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.073Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 5638907641846034696 (1 proxies, 20 upstreams, 8 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.075Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.075Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.076Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.077Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.077Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.077Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-valid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.078Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.078Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.079Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:169","msg":"Setting xDS Snapshot","version":"1.0.0-ci","key":"gloo-system~gateway-proxy","clusters":20,"listeners":1,"routes":1,"endpoints":20}
{"level":"debug","ts":"2023-02-28T18:40:32.079Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:175","msg":"Full snapshot for proxy gateway-proxy: &{Endpoints:{Version:13124969655000456941-18240203269997791441 Items:map[gloo-system-gateway-proxy-443_gloo-system-11528874779248067123:0xc00124f850 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317:0xc00124f8b0 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312:0xc00124f8a0 gloo-system-gloo-443_gloo-system-10387889806944642835:0xc00124f950 gloo-system-gloo-9966_gloo-system-9130268964301561992:0xc00124f960 gloo-system-gloo-9976_gloo-system-17529199821834630327:0xc00124f9d0 gloo-system-gloo-9977_gloo-system-4628636165026317825:0xc00124f9e0 gloo-system-gloo-9979_gloo-system-6900652158160467341:0xc00124f9f0 gloo-system-gloo-9988_gloo-system-9290860991666383861:0xc00124fa00 gloo-system-testrunner-1234_gloo-system-11963293539447349576:0xc00124f8c0 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639:0xc00124f8d0 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041:0xc00124f900 kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708:0xc00124f8f0 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323:0xc00124fac0 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356:0xc00124faf0 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251:0xc00124fbe0 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089:0xc00124fbf0 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033:0xc00124fc00 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057:0xc00124fc10 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672:0xc00124f940]} Clusters:{Version:13124969655000456941 Items:map[gloo-system-gateway-proxy-443_gloo-system:0xc00124fc20 gloo-system-gateway-proxy-8087_gloo-system:0xc00124fc60 gloo-system-gateway-proxy-80_gloo-system:0xc00124fc40 gloo-system-gloo-443_gloo-system:0xc00124fca0 gloo-system-gloo-9966_gloo-system:0xc00124fce0 gloo-system-gloo-9976_gloo-system:0xc00124fd40 gloo-system-gloo-9977_gloo-system:0xc00124fd50 gloo-system-gloo-9979_gloo-system:0xc00124fdb0 gloo-system-gloo-9988_gloo-system:0xc00124fde0 gloo-system-testrunner-1234_gloo-system:0xc00124fe70 kube-svc:gloo-system-gateway-proxy-443_gloo-system:0xc00124fe80 kube-svc:gloo-system-gateway-proxy-8087_gloo-system:0xc00124fea0 kube-svc:gloo-system-gateway-proxy-80_gloo-system:0xc00124fe90 kube-svc:gloo-system-gloo-443_gloo-system:0xc00124feb0 kube-svc:gloo-system-gloo-9966_gloo-system:0xc00124fec0 kube-svc:gloo-system-gloo-9976_gloo-system:0xc00124fed0 kube-svc:gloo-system-gloo-9977_gloo-system:0xc00124fee0 kube-svc:gloo-system-gloo-9979_gloo-system:0xc00124fef0 kube-svc:gloo-system-gloo-9988_gloo-system:0xc00124ff80 kube-svc:gloo-system-testrunner-1234_gloo-system:0xc00124ffb0]} Routes:{Version:2268577131437381107 Items:map[listener-::-8080-routes:0xc0010d2750]} Listeners:{Version:13673054521084217904 Items:map[listener-::-8080:0xc0010d2000]}}","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.080Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:32.081Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 5638907641846034696","version":"1.0.0-ci"}
{"level":"error","ts":"2023-02-28T18:40:32.082Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:930","msg":"gloo main event loop","version":"1.0.0-ci","error":"event_loop.gloo: 1 error occurred:\n\t* validation is disabled due to an invalid resource which has been written to storage. Please correct any Rejected resources to re-enable validation.: 2 errors occurred:\n\t* invalid resource gloo-system.i-am-invalid\n\t* invalid route: route must specify an action\n\n\n\n","errorVerbose":"1 error occurred:\n\t* validation is disabled due to an invalid resource which has been written to storage. Please correct any Rejected resources to re-enable validation.: 2 errors occurred:\n\t* invalid resource gloo-system.i-am-invalid\n\t* invalid route: route must specify an action\n\n\n\n\nevent_loop.gloo\ngithub.com/solo-io/go-utils/errutils.AggregateErrs\n\t/Users/samheilbron/.gvm/pkgsets/go1.18.2/global/pkg/mod/github.com/solo-io/go-utils@v0.24.0/errutils/aggregate_errs.go:19\nruntime.goexit\n\t/Users/samheilbron/.gvm/gos/go1.18.2/src/runtime/asm_amd64.s:1571","stacktrace":"github.com/solo-io/gloo/projects/gloo/pkg/syncer/setup.RunGlooWithExtensions.func10\n\t/Users/samheilbron/go/src/github.com/solo-io/gloo/projects/gloo/pkg/syncer/setup/setup_syncer.go:930"}
{"level":"debug","ts":"2023-02-28T18:40:32.082Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.082Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.083Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.083Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:32.083Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.048Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:94","msg":"last validation snapshot","version":"1.0.0-ci","latestSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:33.051Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:95","msg":"current validation snapshot","version":"1.0.0-ci","currentSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:33.051Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:97","msg":"validation hash changed: true","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.051Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:107","msg":"pushing notifications","version":"1.0.0-ci","validator":{}}
{"level":"debug","ts":"2023-02-28T18:40:33.051Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.052Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 5638907641846034696 (2 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:132","msg":"desired proxy name:\"gateway-proxy\" namespace:\"gloo-system\"","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"validation/server.go:189","msg":"received proxy validation request","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.055Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-invalid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-valid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.057Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.057Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"warn","ts":"2023-02-28T18:40:33.058Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"reconciler/proxy_reconciler.go:127","msg":"Proxy had invalid config","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"2 errors occurred:\n\t* invalid resource gloo-system.i-am-invalid\n\t* invalid route: route must specify an action\n\n"}
{"level":"warn","ts":"2023-02-28T18:40:33.058Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"reconciler/proxy_reconciler.go:241","msg":"stripping invalid virtualhost from proxy","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","listener":"listener-::-8080","virtual host":"gloo-system.i-am-invalid"}
{"level":"info","ts":"2023-02-28T18:40:33.060Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 5638907641846034696","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.060Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.060Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.060Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.060Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.062Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 5638907641846034696 (1 proxies, 20 upstreams, 8 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.064Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.065Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.065Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.065Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.066Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.066Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-valid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.066Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:169","msg":"Setting xDS Snapshot","version":"1.0.0-ci","key":"gloo-system~gateway-proxy","clusters":20,"listeners":1,"routes":1,"endpoints":20}
{"level":"debug","ts":"2023-02-28T18:40:33.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:175","msg":"Full snapshot for proxy gateway-proxy: &{Endpoints:{Version:13124969655000456941-18240203269997791441 Items:map[gloo-system-gateway-proxy-443_gloo-system-11528874779248067123:0xc002072480 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317:0xc0020724b0 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312:0xc0020724a0 gloo-system-gloo-443_gloo-system-10387889806944642835:0xc002072510 gloo-system-gloo-9966_gloo-system-9130268964301561992:0xc002072520 gloo-system-gloo-9976_gloo-system-17529199821834630327:0xc002072530 gloo-system-gloo-9977_gloo-system-4628636165026317825:0xc002072540 gloo-system-gloo-9979_gloo-system-6900652158160467341:0xc002072550 gloo-system-gloo-9988_gloo-system-9290860991666383861:0xc002072560 gloo-system-testrunner-1234_gloo-system-11963293539447349576:0xc0020724c0 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639:0xc0020724d0 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041:0xc0020724f0 kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708:0xc0020724e0 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323:0xc002072570 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356:0xc002072580 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251:0xc002072590 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089:0xc0020725a0 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033:0xc0020725b0 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057:0xc0020725c0 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672:0xc002072500]} Clusters:{Version:13124969655000456941 Items:map[gloo-system-gateway-proxy-443_gloo-system:0xc0020725d0 gloo-system-gateway-proxy-8087_gloo-system:0xc002072600 gloo-system-gateway-proxy-80_gloo-system:0xc0020725f0 gloo-system-gloo-443_gloo-system:0xc002072610 gloo-system-gloo-9966_gloo-system:0xc002072620 gloo-system-gloo-9976_gloo-system:0xc002072630 gloo-system-gloo-9977_gloo-system:0xc002072640 gloo-system-gloo-9979_gloo-system:0xc002072650 gloo-system-gloo-9988_gloo-system:0xc002072660 gloo-system-testrunner-1234_gloo-system:0xc002072670 kube-svc:gloo-system-gateway-proxy-443_gloo-system:0xc002072680 kube-svc:gloo-system-gateway-proxy-8087_gloo-system:0xc0020726a0 kube-svc:gloo-system-gateway-proxy-80_gloo-system:0xc002072690 kube-svc:gloo-system-gloo-443_gloo-system:0xc0020726b0 kube-svc:gloo-system-gloo-9966_gloo-system:0xc0020726c0 kube-svc:gloo-system-gloo-9976_gloo-system:0xc0020726d0 kube-svc:gloo-system-gloo-9977_gloo-system:0xc0020726e0 kube-svc:gloo-system-gloo-9979_gloo-system:0xc0020726f0 kube-svc:gloo-system-gloo-9988_gloo-system:0xc002072700 kube-svc:gloo-system-testrunner-1234_gloo-system:0xc002072710]} Routes:{Version:2268577131437381107 Items:map[listener-::-8080-routes:0xc002072c60]} Listeners:{Version:13673054521084217904 Items:map[listener-::-8080:0xc002072720]}}","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.068Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:33.069Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 5638907641846034696","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:33.070Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.050Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:94","msg":"last validation snapshot","version":"1.0.0-ci","latestSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:37.053Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:95","msg":"current validation snapshot","version":"1.0.0-ci","currentSnapshot":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:8443 metadata:{name:\"ep-10-244-0-18-8443-7a15f399d22fc1c2\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:8443 metadata:{name:\"ep-10-244-0-18-8443-bc2d621051c1ea3a\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9966 metadata:{name:\"ep-10-244-0-18-9966-5c76bb2f64efce86\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9966 metadata:{name:\"ep-10-244-0-18-9966-c7ca67ae0a631714\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9976 metadata:{name:\"ep-10-244-0-18-9976-1cdfa58109765f56\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9976 metadata:{name:\"ep-10-244-0-18-9976-2822175c5a89f1a2\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9977 metadata:{name:\"ep-10-244-0-18-9977-7bfc4f97037818fc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9977 metadata:{name:\"ep-10-244-0-18-9977-a9a4b7115be77afa\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9979 metadata:{name:\"ep-10-244-0-18-9979-65e8c520ac1258e0\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9979 metadata:{name:\"ep-10-244-0-18-9979-f81b98e612d6adbe\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9988 metadata:{name:\"ep-10-244-0-18-9988-1e2cf85b864752d4\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9988 metadata:{name:\"ep-10-244-0-18-9988-2eaea324f7950f46\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2023-02-28T18:40:37.054Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:97","msg":"validation hash changed: false","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:109","msg":"getting proxies from gateway translation","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.054Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:92","msg":"begin sync 11941404200626041163 (2 virtual services, 2 gateways, 0 route tables)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.056Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:99","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:8443 metadata:{name:\"ep-10-244-0-18-8443-7a15f399d22fc1c2\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:8443 metadata:{name:\"ep-10-244-0-18-8443-bc2d621051c1ea3a\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9966 metadata:{name:\"ep-10-244-0-18-9966-5c76bb2f64efce86\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9966 metadata:{name:\"ep-10-244-0-18-9966-c7ca67ae0a631714\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9976 metadata:{name:\"ep-10-244-0-18-9976-1cdfa58109765f56\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9976 metadata:{name:\"ep-10-244-0-18-9976-2822175c5a89f1a2\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9977 metadata:{name:\"ep-10-244-0-18-9977-7bfc4f97037818fc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9977 metadata:{name:\"ep-10-244-0-18-9977-a9a4b7115be77afa\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9979 metadata:{name:\"ep-10-244-0-18-9979-65e8c520ac1258e0\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9979 metadata:{name:\"ep-10-244-0-18-9979-f81b98e612d6adbe\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9988 metadata:{name:\"ep-10-244-0-18-9988-1e2cf85b864752d4\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9988 metadata:{name:\"ep-10-244-0-18-9988-2eaea324f7950f46\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.057Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:132","msg":"desired proxy name:\"gateway-proxy\" namespace:\"gloo-system\"","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.057Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"validation/server.go:189","msg":"received proxy validation request","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.057Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.057Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.058Z","logger":"gloo.v1.event_loop.setup","caller":"k8sadmission/validating_admission_webhook.go:154","msg":"validation-webhook-certificate-watcher2023/02/28 18:40:37 terminate validating admission webhook certificate change watcher goroutine\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.058Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.059Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.059Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-invalid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.059Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-valid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.059Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.060Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer.proxy-validator.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"warn","ts":"2023-02-28T18:40:37.060Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"reconciler/proxy_reconciler.go:127","msg":"Proxy had invalid config","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","error":"2 errors occurred:\n\t* invalid resource gloo-system.i-am-invalid\n\t* invalid route: route must specify an action\n\n"}
{"level":"warn","ts":"2023-02-28T18:40:37.061Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"reconciler/proxy_reconciler.go:241","msg":"stripping invalid virtualhost from proxy","version":"1.0.0-ci","proxy":"name:\"gateway-proxy\" namespace:\"gloo-system\"","listener":"listener-::-8080","virtual host":"gloo-system.i-am-invalid"}
{"level":"info","ts":"2023-02-28T18:40:37.062Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.TranslatorSyncer","caller":"syncer/translator_syncer.go:104","msg":"end sync 11941404200626041163","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.062Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.062Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.062Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.062Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:428","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.064Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:84","msg":"begin sync 11941404200626041163 (1 proxies, 20 upstreams, 20 endpoints, 1 secrets, 3 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.066Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:91","msg":"Artifacts:[*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:8443 metadata:{name:\"ep-10-244-0-18-8443-7a15f399d22fc1c2\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:8443 metadata:{name:\"ep-10-244-0-18-8443-bc2d621051c1ea3a\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9966 metadata:{name:\"ep-10-244-0-18-9966-5c76bb2f64efce86\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9966 metadata:{name:\"ep-10-244-0-18-9966-c7ca67ae0a631714\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9976 metadata:{name:\"ep-10-244-0-18-9976-1cdfa58109765f56\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9976 metadata:{name:\"ep-10-244-0-18-9976-2822175c5a89f1a2\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9977 metadata:{name:\"ep-10-244-0-18-9977-7bfc4f97037818fc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9977 metadata:{name:\"ep-10-244-0-18-9977-a9a4b7115be77afa\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9979 metadata:{name:\"ep-10-244-0-18-9979-65e8c520ac1258e0\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9979 metadata:{name:\"ep-10-244-0-18-9979-f81b98e612d6adbe\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9988 metadata:{name:\"ep-10-244-0-18-9988-1e2cf85b864752d4\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.18\" port:9988 metadata:{name:\"ep-10-244-0-18-9988-2eaea324f7950f46\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"c98f6c6d7\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-5e405fed25de8f30\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8080 metadata:{name:\"ep-10-244-0-19-8080-c27ef325681be84e\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-131b2ec92d41c76\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8087 metadata:{name:\"ep-10-244-0-19-8087-b0340b2a9daafa02\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-3d7fd805cfd6f46\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.19\" port:8443 metadata:{name:\"ep-10-244-0-19-8443-b67ab3324eaf624a\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"8f9cf6766\"}} upstreams:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-5e208a14da5e2821\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gloo\" value:\"testrunner\"}} upstreams:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} address:\"10.244.0.5\" port:1234 metadata:{name:\"ep-10-244-0-5-1234-cc493e3f87aeacf7\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"gloo\" value:\"testrunner\"}}]\nProxies:[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]}]\nUpstreams:[namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[virtual_host:{domains:\"invalid.com\" routes:{matchers:{} options:{prefix_rewrite:{value:\"matcher and action are missing\"}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-invalid\" namespace:\"gloo-system\" resource_version:\"36416\" generation:1} virtual_host:{domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} name:\"route\"}} namespaced_statuses:{} metadata:{name:\"i-am-valid\" namespace:\"gloo-system\" resource_version:\"36415\" generation:1}]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36199\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"36200\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:31} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nGraphqlApis:[]\n","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:136","msg":"verifying upstream groups: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:142","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.067Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:144","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.068Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.068Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [gloo-system.i-am-valid] will be replaced by '_'","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.068Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.translator","caller":"translator/translator.go:223","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.069Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.069Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:169","msg":"Setting xDS Snapshot","version":"1.0.0-ci","key":"gloo-system~gateway-proxy","clusters":20,"listeners":1,"routes":1,"endpoints":20}
{"level":"debug","ts":"2023-02-28T18:40:37.070Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:175","msg":"Full snapshot for proxy gateway-proxy: &{Endpoints:{Version:13124969655000456941-3544651520429342801 Items:map[gloo-system-gateway-proxy-443_gloo-system-11528874779248067123:0xc001e5f9d0 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317:0xc001e5fa00 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312:0xc001e5f9f0 gloo-system-gloo-443_gloo-system-10387889806944642835:0xc001e5fa10 gloo-system-gloo-9966_gloo-system-9130268964301561992:0xc001e5fa20 gloo-system-gloo-9976_gloo-system-17529199821834630327:0xc001e5fa30 gloo-system-gloo-9977_gloo-system-4628636165026317825:0xc001e5fa40 gloo-system-gloo-9979_gloo-system-6900652158160467341:0xc001e5fa50 gloo-system-gloo-9988_gloo-system-9290860991666383861:0xc001e5fa60 gloo-system-testrunner-1234_gloo-system-11963293539447349576:0xc001e5fa70 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639:0xc001e5fa80 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041:0xc001e5faa0 kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708:0xc001e5fa90 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323:0xc001e5fab0 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356:0xc001e5fac0 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251:0xc001e5fad0 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089:0xc001e5fae0 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033:0xc001e5faf0 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057:0xc001e5fb00 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672:0xc001e5fb10]} Clusters:{Version:13124969655000456941 Items:map[gloo-system-gateway-proxy-443_gloo-system:0xc001e5fb20 gloo-system-gateway-proxy-8087_gloo-system:0xc001e5fb50 gloo-system-gateway-proxy-80_gloo-system:0xc001e5fb40 gloo-system-gloo-443_gloo-system:0xc001e5fb60 gloo-system-gloo-9966_gloo-system:0xc001e5fb70 gloo-system-gloo-9976_gloo-system:0xc001e5fb80 gloo-system-gloo-9977_gloo-system:0xc001e5fb90 gloo-system-gloo-9979_gloo-system:0xc001e5fba0 gloo-system-gloo-9988_gloo-system:0xc001e5fbb0 gloo-system-testrunner-1234_gloo-system:0xc001e5fbc0 kube-svc:gloo-system-gateway-proxy-443_gloo-system:0xc001e5fbd0 kube-svc:gloo-system-gateway-proxy-8087_gloo-system:0xc001e5fbf0 kube-svc:gloo-system-gateway-proxy-80_gloo-system:0xc001e5fbe0 kube-svc:gloo-system-gloo-443_gloo-system:0xc001e5fc00 kube-svc:gloo-system-gloo-9966_gloo-system:0xc001e5fc10 kube-svc:gloo-system-gloo-9976_gloo-system:0xc001e5fc20 kube-svc:gloo-system-gloo-9977_gloo-system:0xc001e5fc30 kube-svc:gloo-system-gloo-9979_gloo-system:0xc001e5fc40 kube-svc:gloo-system-gloo-9988_gloo-system:0xc001e5fc50 kube-svc:gloo-system-testrunner-1234_gloo-system:0xc001e5fc60]} Routes:{Version:2268577131437381107 Items:map[listener-::-8080-routes:0xc001e7c610]} Listeners:{Version:13673054521084217904 Items:map[listener-::-8080:0xc001e5fc70]}}","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.071Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:178","msg":"gloo reports to be written: map[listeners:{name:\"listener-::-8080\" bind_address:\"::\" bind_port:8080 http_listener:{virtual_hosts:{name:\"gloo-system.i-am-valid\" domains:\"valid1.com\" routes:{matchers:{prefix:\"/\"} route_action:{single:{upstream:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\"}}} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}} name:\"vs:gateway-proxy_gateway-proxy_gloo-system_i-am-valid_route:route\"} metadata_static:{sources:{resource_ref:{name:\"i-am-valid\" namespace:\"gloo-system\"} resource_kind:\"*v1.VirtualService\" observed_generation:1}}}} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} listeners:{name:\"listener-::-8443\" bind_address:\"::\" bind_port:8443 http_listener:{} use_proxy_proto:{} metadata_static:{sources:{resource_ref:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"} resource_kind:\"*v1.Gateway\" observed_generation:31}}} namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"36417\" labels:{key:\"created_by\" value:\"gloo-gateway-translator\"} generation:1}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" resource_version:\"34770\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" resource_version:\"34775\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" resource_version:\"35391\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" resource_version:\"34768\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" resource_version:\"34772\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" resource_version:\"34773\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" resource_version:\"34771\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" resource_version:\"34769\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" resource_version:\"34774\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"} generation:2} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" resource_version:\"34876\" labels:{key:\"discovered_by\" value:\"kubernetesplugin\"} generation:2} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:8087 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true}:{[] <nil> []} metadata:{name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\"} discovery_metadata:{labels:{key:\"gloo\" value:\"testrunner\"}} kube:{service_name:\"testrunner\" service_namespace:\"gloo-system\" service_port:1234 selector:{key:\"gloo\" value:\"testrunner\"}}:{[] <nil> []}]","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:37.071Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:179","msg":"end sync 11941404200626041163","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:37.072Z","logger":"gloo.v1.event_loop.gloo","caller":"syncer/translator_syncer.go:225","msg":"Not a leader, skipping reports writing","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:38.093Z","caller":"setup/setup_syncer.go:119","msg":"gRPC call: /envoy.service.discovery.v3.AggregatedDiscoveryService/StreamAggregatedResources"}
{"level":"debug","ts":"2023-02-28T18:40:38.094Z","caller":"cache/simple.go:321","msg":"respond type.googleapis.com/envoy.config.cluster.v3.Cluster; resources: []. version \"\" with version \"13124969655000456941\""}
{"level":"debug","ts":"2023-02-28T18:40:38.109Z","caller":"cache/simple.go:321","msg":"respond type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment; resources: [kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312 gloo-system-gloo-9976_gloo-system-17529199821834630327 gloo-system-gateway-proxy-443_gloo-system-11528874779248067123 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323 gloo-system-gloo-443_gloo-system-10387889806944642835 gloo-system-gloo-9977_gloo-system-4628636165026317825 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356 gloo-system-gloo-9979_gloo-system-6900652158160467341 gloo-system-testrunner-1234_gloo-system-11963293539447349576 gloo-system-gloo-9966_gloo-system-9130268964301561992 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041 gloo-system-gloo-9988_gloo-system-9290860991666383861 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033]. version \"\" with version \"13124969655000456941-3544651520429342801\""}
{"level":"info","ts":"2023-02-28T18:40:38.109Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 0 and Element Index 0 for type.googleapis.com/envoy.config.cluster.v3.Cluster[] from nodeID \"gloo-system~gateway-proxy\", version \"13124969655000456941\""}
{"level":"debug","ts":"2023-02-28T18:40:38.112Z","caller":"cache/simple.go:321","msg":"respond type.googleapis.com/envoy.config.listener.v3.Listener; resources: []. version \"\" with version \"13673054521084217904\""}
{"level":"info","ts":"2023-02-28T18:40:38.112Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 1 and Element Index 1 for type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment[kube-svc:gloo-system-gateway-proxy-80_gloo-system-5492134404078312708 gloo-system-gateway-proxy-8087_gloo-system-282120563433052317 kube-svc:gloo-system-gloo-9976_gloo-system-13721617866092530251 gloo-system-gateway-proxy-80_gloo-system-1900968511220026312 gloo-system-gloo-9976_gloo-system-17529199821834630327 gloo-system-gateway-proxy-443_gloo-system-11528874779248067123 kube-svc:gloo-system-gloo-443_gloo-system-1174648430762323323 gloo-system-gloo-443_gloo-system-10387889806944642835 gloo-system-gloo-9977_gloo-system-4628636165026317825 kube-svc:gloo-system-gateway-proxy-443_gloo-system-11609761131353379639 kube-svc:gloo-system-testrunner-1234_gloo-system-17915463151348032672 kube-svc:gloo-system-gloo-9977_gloo-system-235068212761899089 kube-svc:gloo-system-gloo-9966_gloo-system-6990134394874317356 gloo-system-gloo-9979_gloo-system-6900652158160467341 gloo-system-testrunner-1234_gloo-system-11963293539447349576 gloo-system-gloo-9966_gloo-system-9130268964301561992 kube-svc:gloo-system-gateway-proxy-8087_gloo-system-10817996465987419041 gloo-system-gloo-9988_gloo-system-9290860991666383861 kube-svc:gloo-system-gloo-9988_gloo-system-15517890041789608057 kube-svc:gloo-system-gloo-9979_gloo-system-16941443533456603033] from nodeID \"gloo-system~gateway-proxy\", version \"13124969655000456941-3544651520429342801\""}
{"level":"debug","ts":"2023-02-28T18:40:38.115Z","caller":"cache/simple.go:321","msg":"respond type.googleapis.com/envoy.config.route.v3.RouteConfiguration; resources: [listener-::-8080-routes]. version \"\" with version \"2268577131437381107\""}
{"level":"info","ts":"2023-02-28T18:40:38.115Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 0 and Element Index 2 for type.googleapis.com/envoy.config.listener.v3.Listener[] from nodeID \"gloo-system~gateway-proxy\", version \"13673054521084217904\""}
{"level":"info","ts":"2023-02-28T18:40:38.120Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 1 and Element Index 3 for type.googleapis.com/envoy.config.route.v3.RouteConfiguration[listener-::-8080-routes] from nodeID \"gloo-system~gateway-proxy\", version \"2268577131437381107\""}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","caller":"kube/provider.go:39","msg":"Eventf callback called"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","caller":"kube/provider.go:39","msg":"Eventf callback called"}
I0228 18:40:42.144138       1 leaderelection.go:258] successfully acquired lease gloo-system/gloo
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo","caller":"kube/factory.go:74","msg":"New Leader Elected with Identity: gloo-c98f6c6d7-5s5xj_3f9d9272-b0b5-46be-a056-0e3ebb44af4d","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:42.144Z","caller":"setup/setup.go:39","msg":"new leader elected with ID: gloo-c98f6c6d7-5s5xj_3f9d9272-b0b5-46be-a056-0e3ebb44af4d"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo","caller":"kube/factory.go:65","msg":"Started Leading","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:42.144Z","logger":"gloo","caller":"setup/setup.go:36","msg":"starting leadership","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo","caller":"leaderelector/leader.go:43","msg":"performing leader startup action","version":"1.0.0-ci"}
{"level":"info","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo","caller":"leaderelector/leader.go:43","msg":"performing leader startup action","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gateway-proxy\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gloo-443\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.144Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gloo-9988\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.145Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gloo-9979\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.145Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gloo-9977\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.145Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.150Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"gateway-proxy\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.150Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.150Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gloo-9976\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.150Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-testrunner-1234\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.150Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gloo-9966\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gateway-proxy-8087\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:309","msg":"wrote report for name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-testrunner-1234\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
{"level":"debug","ts":"2023-02-28T18:40:42.151Z","logger":"gloo.v1.event_loop.gloo.reporter","caller":"reporter/reporter.go:287","msg":"skipping report for name:\"gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" as it has not changed","version":"1.0.0-ci"}
