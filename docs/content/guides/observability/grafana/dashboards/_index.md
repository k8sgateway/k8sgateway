---
title: Dashboards
weight: 1
description: Documentation about the dynamically generated dashboards created by the observability component in Gloo Edge
---

1. [Whole-Cluster Dashboard](#whole-cluster-dashboard)
1. [Dynamically Generated Dashboards](#dynamically-generated-dashboards)
1. [Custom Prefix for Dashboard UIDs and Titles](#custom-prefix-for-dashboard-uids-and-titles)
1. [Extra Metric Query Parameters](#extra-metric-query-parameters)

## Whole-Cluster Dashboard
> **Note**: This dashboard is packaged by default with Gloo Edge Enterprise

A dashboard showing whole-cluster metrics can be found in the `gloo/Envoy Statistics` dashboard. In that dashboard you can find panels showing:

* Requests per Second
* Percent Response Code per Second
* Response Codes per Second
* Upstream Request Time Percentiles
* Round Trip Time Percentiles
* Average Request Time


## Dynamically Generated Dashboards
Gloo Edge Enterprise's observability component generates a dashboard per watched upstream. These dashboards are updated and recreated every time an upstream changes. It renders a Go template that can be found in a configmap, which gets loaded into the `observability` pod's env at startup:

```bash
~ > kubectl -n gloo-system get cm gloo-observability-config -o yaml | head -n 10
apiVersion: v1
data:
  GRAFANA_URL: http://glooe-grafana.gloo-system.svc.cluster.local:80
  UPSTREAM_DASHBOARD_JSON_TEMPLATE: |2

    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
```
If you want to customize how these per-upstream dashboards look, you can provide your own template to use by writing a Grafana dashboard JSON representation to that config map key. Currently the only available variables that are available when the Go template is rendered are:

* `.NameTemplate`
* `.Uid`
* `.EnvoyClusterName`
* `.DashboardPrefix`
* `.ExtraMetricQueryParameters`

## Custom Prefix for Dashboard UIDs and Titles
Users can provide a prefix that applies to the UID and Title of all dashboards generated by Gloo Edge Enterprise. This is extremely useful in scenarios where there are multiple installations of Edge Enterprise that publish dashboards to an external centralized Grafana Server.
Providing a unique prefix per installation ensures that all dashboards generated by Gloo Edge Enterprise have a unique UID and Title and do not conflict across multiple installations.

This can be done by specifying the `gloo.settings.observabilityOptions.grafanaIntegration.dashboardPrefix` setting with the desired prefix.
> **Note**: This prefix is restricted to 20 characters in length

## Extra Metric Query Parameters
Gloo Edge Enterprise's observability component also gives users the ability to provide extra query parameters to add to all metric query definitions in the generated Grafana Dashboards. A good use case is when metrics from multiple clusters are aggregated to a unified prometheus server. The user can define the extra metric query parameters with the desired cluster name such as `cluster="some-cluster"`. This ensures that metric definitions in dashboards generated by the given Edge installation will contain this additional query parameter and thereby only fetch metrics matching the cluster with the given name.

This can be done by specifying the `gloo.settings.observabilityOptions.grafanaIntegration.extraMetricQueryParameters` setting with the desired query parameters. It can consist of multiple query parameters separated by a comma. For example `cluster="some-cluster",gateway_proxy_id="proxy-2"`.
