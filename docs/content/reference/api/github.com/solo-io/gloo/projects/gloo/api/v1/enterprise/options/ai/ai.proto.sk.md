
---
title: "ai.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `ai.options.gloo.solo.io` 
#### Types:


- [UpstreamSpec](#upstreamspec)
- [OpenAI](#openai)
- [Mistral](#mistral)
- [Anthropic](#anthropic)
- [Custom](#custom)
- [RouteSettings](#routesettings)
- [FieldDefault](#fielddefault)
- [Postgres](#postgres)
- [Redis](#redis)
- [Embedding](#embedding)
- [OpenAI](#openai)
- [SemanticCaching](#semanticcaching)
- [DataStore](#datastore)
- [RAG](#rag)
- [DataStore](#datastore)
- [RateLimiting](#ratelimiting)
- [AIPromptEnrichment](#aipromptenrichment)
- [Message](#message)
- [Role](#role)
- [AIPromptGaurd](#aipromptgaurd)
- [Request](#request)
- [BuiltIn](#builtin)
- [Response](#response)
- [BuiltIn](#builtin)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/v1/enterprise/options/ai/ai.proto](https://github.com/solo-io/gloo/blob/main/projects/gloo/api/v1/enterprise/options/ai/ai.proto)





---
### UpstreamSpec



```yaml
"inlineAuthToken": string
"authTokenRef": string
"openai": .ai.options.gloo.solo.io.UpstreamSpec.OpenAI
"mistral": .ai.options.gloo.solo.io.UpstreamSpec.Mistral
"anthropic": .ai.options.gloo.solo.io.UpstreamSpec.Anthropic
"custom": .ai.options.gloo.solo.io.UpstreamSpec.Custom

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `inlineAuthToken` | `string` | Provide easy inline way to specify a token. Only one of `inlineAuthToken` or `authTokenRef` can be set. |
| `authTokenRef` | `string` | name of k8s secret in the same namesapce as the Upstream. Only one of `authTokenRef` or `inlineAuthToken` can be set. |
| `openai` | [.ai.options.gloo.solo.io.UpstreamSpec.OpenAI](../ai.proto.sk/#openai) |  Only one of `openai`, `mistral`, `anthropic`, or `custom` can be set. |
| `mistral` | [.ai.options.gloo.solo.io.UpstreamSpec.Mistral](../ai.proto.sk/#mistral) |  Only one of `mistral`, `openai`, `anthropic`, or `custom` can be set. |
| `anthropic` | [.ai.options.gloo.solo.io.UpstreamSpec.Anthropic](../ai.proto.sk/#anthropic) |  Only one of `anthropic`, `openai`, `mistral`, or `custom` can be set. |
| `custom` | [.ai.options.gloo.solo.io.UpstreamSpec.Custom](../ai.proto.sk/#custom) |  Only one of `custom`, `openai`, `mistral`, or `anthropic` can be set. |




---
### OpenAI



```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### Mistral



```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### Anthropic



```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### Custom



```yaml
"host": string
"port": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `host` | `string` | Custom host to send the traffic to. |
| `port` | `int` | Custom host to send the traffic to. |




---
### RouteSettings



```yaml
"promptEnrichment": .ai.options.gloo.solo.io.AIPromptEnrichment
"promptGuard": .ai.options.gloo.solo.io.AIPromptGaurd
"rateLimiting": .ai.options.gloo.solo.io.RateLimiting
"rag": .ai.options.gloo.solo.io.RAG
"semanticCaching": .ai.options.gloo.solo.io.SemanticCaching
"backupModels": []string
"defaults": []ai.options.gloo.solo.io.FieldDefault

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `promptEnrichment` | [.ai.options.gloo.solo.io.AIPromptEnrichment](../ai.proto.sk/#aipromptenrichment) | Config used to enrich the prompt. This can only be used with LLMProviders using the CHAT API type. |
| `promptGuard` | [.ai.options.gloo.solo.io.AIPromptGaurd](../ai.proto.sk/#aipromptgaurd) | Guards to apply to the LLM requests on this route. |
| `rateLimiting` | [.ai.options.gloo.solo.io.RateLimiting](../ai.proto.sk/#ratelimiting) | Rate limiting configuration to apply to the corresponding routes. All Rate limiting applied this way will use the input_tokens as the counter rather than incrementing by 1 for each request. |
| `rag` | [.ai.options.gloo.solo.io.RAG](../ai.proto.sk/#rag) | Retrieval Augmented Generation. |
| `semanticCaching` | [.ai.options.gloo.solo.io.SemanticCaching](../ai.proto.sk/#semanticcaching) | Semantic caching configuration. |
| `backupModels` | `[]string` | Backup models to use in case of a failure with the primary model passed in the request. |
| `defaults` | [[]ai.options.gloo.solo.io.FieldDefault](../ai.proto.sk/#fielddefault) | A list of fields to be added to the prompt before sending it to the LLM model. These will NOT override the user input fields unless override is explicitly set to true. |




---
### FieldDefault



```yaml
"field": string
"value": .google.protobuf.Value
"override": bool

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `field` | `string` | Field name. |
| `value` | [.google.protobuf.Value](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/value) | Field Value, this can be any valid JSON value. |
| `override` | `bool` | Whether or not to override the field if it already exists. |




---
### Postgres



```yaml
"connectionString": string
"collectionName": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `connectionString` | `string` |  |
| `collectionName` | `string` |  |




---
### Redis



```yaml
"connectionString": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `connectionString` | `string` |  |




---
### Embedding



```yaml
"openai": .ai.options.gloo.solo.io.Embedding.OpenAI

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `openai` | [.ai.options.gloo.solo.io.Embedding.OpenAI](../ai.proto.sk/#openai) |  |




---
### OpenAI



```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### SemanticCaching



```yaml
"datastore": .ai.options.gloo.solo.io.SemanticCaching.DataStore
"embedding": .ai.options.gloo.solo.io.Embedding
"ttl": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `datastore` | [.ai.options.gloo.solo.io.SemanticCaching.DataStore](../ai.proto.sk/#datastore) | Which data store to use. |
| `embedding` | [.ai.options.gloo.solo.io.Embedding](../ai.proto.sk/#embedding) | Model to use to get embeddings for prompt. |
| `ttl` | `int` | Time before data in the cache is considered expired. |




---
### DataStore

 
Data store from which to cache the request/response pairs

```yaml
"redis": .ai.options.gloo.solo.io.Redis

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `redis` | [.ai.options.gloo.solo.io.Redis](../ai.proto.sk/#redis) |  |




---
### RAG



```yaml
"datastore": .ai.options.gloo.solo.io.RAG.DataStore
"embedding": .ai.options.gloo.solo.io.Embedding
"promptTemplate": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `datastore` | [.ai.options.gloo.solo.io.RAG.DataStore](../ai.proto.sk/#datastore) | Data store from which to fetch the embeddings. |
| `embedding` | [.ai.options.gloo.solo.io.Embedding](../ai.proto.sk/#embedding) | Model to use to get embeddings for prompt. |
| `promptTemplate` | `string` | Template to use to embed the returned context. |




---
### DataStore



```yaml
"postgres": .ai.options.gloo.solo.io.Postgres

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `postgres` | [.ai.options.gloo.solo.io.Postgres](../ai.proto.sk/#postgres) |  |




---
### RateLimiting



```yaml
"rateLimitConfigs": []string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `rateLimitConfigs` | `[]string` | List of rate_limit configs to apply. |




---
### AIPromptEnrichment



```yaml
"prepend": []ai.options.gloo.solo.io.AIPromptEnrichment.Message
"append": []ai.options.gloo.solo.io.AIPromptEnrichment.Message

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `prepend` | [[]ai.options.gloo.solo.io.AIPromptEnrichment.Message](../ai.proto.sk/#message) | A list of messages to be prepended to the prompt sent by the client. |
| `append` | [[]ai.options.gloo.solo.io.AIPromptEnrichment.Message](../ai.proto.sk/#message) | A list of messages to be appended to the prompt sent by the client. |




---
### Message



```yaml
"role": .ai.options.gloo.solo.io.AIPromptEnrichment.Message.Role
"content": string
"roleOverride": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `role` | [.ai.options.gloo.solo.io.AIPromptEnrichment.Message.Role](../ai.proto.sk/#role) | Role of the message. |
| `content` | `string` | String content of the message. |
| `roleOverride` | `string` | Role Override, will only be used if ROLE is set to CUSTOM. |




---
### Role

 
List of potential roles

| Name | Description |
| ----- | ----------- | 
| `USER` |  |
| `SYSTEM` |  |
| `ASSISSTANT` |  |
| `CUSTOM` |  |




---
### AIPromptGaurd



```yaml
"request": .ai.options.gloo.solo.io.AIPromptGaurd.Request
"response": .ai.options.gloo.solo.io.AIPromptGaurd.Response

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `request` | [.ai.options.gloo.solo.io.AIPromptGaurd.Request](../ai.proto.sk/#request) | Guards for the prompt request. |
| `response` | [.ai.options.gloo.solo.io.AIPromptGaurd.Response](../ai.proto.sk/#response) | Guards for the LLM response. |




---
### Request



```yaml
"matches": []string
"builtins": []ai.options.gloo.solo.io.AIPromptGaurd.Request.BuiltIn
"customResponseMessage": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `matches` | `[]string` | All matches will be masked before being sent back to the client We can also use DLP stats to see how often this happens. |
| `builtins` | [[]ai.options.gloo.solo.io.AIPromptGaurd.Request.BuiltIn](../ai.proto.sk/#builtin) | A list of built-in regexes to mask in the response. |
| `customResponseMessage` | `string` | Custom response message to send back to the client. |




---
### BuiltIn



| Name | Description |
| ----- | ----------- | 
| `SSN` |  |
| `CREDIT_CARD` |  |
| `EMAIL` |  |
| `PHONE_NUMBER` |  |




---
### Response



```yaml
"matches": []string
"builtins": []ai.options.gloo.solo.io.AIPromptGaurd.Response.BuiltIn

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `matches` | `[]string` | All matches will be masked before being sent back to the client We can also use DLP stats to see how often this happens. |
| `builtins` | [[]ai.options.gloo.solo.io.AIPromptGaurd.Response.BuiltIn](../ai.proto.sk/#builtin) | A list of built-in regexes to mask in the response. |




---
### BuiltIn



| Name | Description |
| ----- | ----------- | 
| `SSN` |  |
| `CREDIT_CARD` |  |
| `EMAIL` |  |
| `PHONE_NUMBER` |  |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
