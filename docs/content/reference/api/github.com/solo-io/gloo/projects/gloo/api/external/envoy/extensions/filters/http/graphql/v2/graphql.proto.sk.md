
---
title: "graphql.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `solo.io.envoy.config.filter.http.graphql.v2` 
#### Types:


- [PathSegment](#pathsegment)
- [ValueProvider](#valueprovider)
- [GraphQLArgExtraction](#graphqlargextraction)
- [TypedValueProvider](#typedvalueprovider)
- [GraphQLParentExtraction](#graphqlparentextraction)
- [Type](#type)
- [JsonKeyValue](#jsonkeyvalue)
- [JsonValue](#jsonvalue)
- [JsonNode](#jsonnode)
- [RequestTemplate](#requesttemplate)
- [ResponseTemplate](#responsetemplate)
- [RESTResolver](#restresolver)
- [RESTResolverCP](#restresolvercp)
- [OpenApi](#openapi)
- [RemoteSource](#remotesource)
- [SelectQueryOrMutationField](#selectqueryormutationfield)
- [SubgraphResolver](#subgraphresolver)
- [ConstantResolver](#constantresolver)
- [AbstractTypeResolver](#abstracttyperesolver)
- [Query](#query)
- [QueryMatcher](#querymatcher)
- [FieldMatcher](#fieldmatcher)
- [Resolution](#resolution)
- [GraphQLConfig](#graphqlconfig)
- [GraphQLRouteConfig](#graphqlrouteconfig)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/external/envoy/extensions/filters/http/graphql/v2/graphql.proto](https://github.com/solo-io/gloo/blob/master/projects/gloo/api/external/envoy/extensions/filters/http/graphql/v2/graphql.proto)





---
### PathSegment

 
used to reference into json structures by key(s)
TODO(kdorosh): implement me

```yaml
"key": string
"index": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `key` | `string` |  Only one of `key` or `index` can be set. |
| `index` | `int` |  Only one of `index` or `key` can be set. |




---
### ValueProvider

 
TODO(kdorosh): do we want to support regex and subgroups?
TODO(kdorosh): implement me

```yaml
"graphqlArg": .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.GraphQLArgExtraction
"typedProvider": .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.TypedValueProvider

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `graphqlArg` | [.solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.GraphQLArgExtraction](../graphql.proto.sk/#graphqlargextraction) | type inferred from schema, no need to provide it. Only one of `graphqlArg` or `typedProvider` can be set. |
| `typedProvider` | [.solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.TypedValueProvider](../graphql.proto.sk/#typedvalueprovider) |  Only one of `typedProvider` or `graphqlArg` can be set. |




---
### GraphQLArgExtraction



```yaml
"argName": string
"path": []solo.io.envoy.config.filter.http.graphql.v2.PathSegment

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `argName` | `string` | The argument name to fetch. The argument value fetched will have a type from the schema that we validate in envoy. If the name is invalid, returns the zero-value primitive or null. |
| `path` | [[]solo.io.envoy.config.filter.http.graphql.v2.PathSegment](../graphql.proto.sk/#pathsegment) | Optional: fetches the value in the argument selected at this key. If the key is invalid, returns the zero-value primitive or null. |




---
### TypedValueProvider



```yaml
"type": .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.TypedValueProvider.Type
"graphqlParent": .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.TypedValueProvider.GraphQLParentExtraction
"header": string
"value": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `type` | [.solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.TypedValueProvider.Type](../graphql.proto.sk/#type) | Type that the value will be coerced into. For example if the extracted value is "9", and type is INT, this value will be cast to an int type. |
| `graphqlParent` | [.solo.io.envoy.config.filter.http.graphql.v2.ValueProvider.TypedValueProvider.GraphQLParentExtraction](../graphql.proto.sk/#graphqlparentextraction) | Fetch value from the graphql_parent of the current field. todo(sai) - figure out behaviour when no parent (root query / mutation). Only one of `graphqlParent`, `header`, or `value` can be set. |
| `header` | `string` | Fetches the request/response header's value. If not found, uses empty string. Only one of `header`, `graphqlParent`, or `value` can be set. |
| `value` | `string` | inline value, use as provided rather than extracting from another source. Only one of `value`, `graphqlParent`, or `header` can be set. |




---
### GraphQLParentExtraction



```yaml
"path": []solo.io.envoy.config.filter.http.graphql.v2.PathSegment

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `path` | [[]solo.io.envoy.config.filter.http.graphql.v2.PathSegment](../graphql.proto.sk/#pathsegment) | Fetches the value in the graphql parent at this key. The value will always be accepted since the parent object is not strongly-typed. If the key is invalid, returns null. |




---
### Type

 
if empty, defaults to string. similar to typeUrl in other envoy config

| Name | Description |
| ----- | ----------- | 
| `STRING` |  |
| `INT` |  |
| `FLOAT` |  |
| `BOOLEAN` |  |




---
### JsonKeyValue



```yaml
"key": string
"value": .solo.io.envoy.config.filter.http.graphql.v2.JsonKeyValue.JsonValue

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `key` | `string` | if empty, the value will be parsed as json and replace the entire previously-parsed json value. |
| `value` | [.solo.io.envoy.config.filter.http.graphql.v2.JsonKeyValue.JsonValue](../graphql.proto.sk/#jsonvalue) |  |




---
### JsonValue



```yaml
"node": .solo.io.envoy.config.filter.http.graphql.v2.JsonNode
"valueProvider": .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `node` | [.solo.io.envoy.config.filter.http.graphql.v2.JsonNode](../graphql.proto.sk/#jsonnode) |  Only one of `node` or `valueProvider` can be set. |
| `valueProvider` | [.solo.io.envoy.config.filter.http.graphql.v2.ValueProvider](../graphql.proto.sk/#valueprovider) |  Only one of `valueProvider` or `node` can be set. |




---
### JsonNode

 
Represents a typed JSON structure
TODO(kdorosh): implement me

```yaml
"keyValues": []solo.io.envoy.config.filter.http.graphql.v2.JsonKeyValue

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `keyValues` | [[]solo.io.envoy.config.filter.http.graphql.v2.JsonKeyValue](../graphql.proto.sk/#jsonkeyvalue) | if keys repeat, the latest one replaces any earlier values associated with that key. repeated list, rather than a map, to have ordering to allow for merge semantics within the data plane, for example: - gRPC input uses special empty string for input key to set entire body - gRPC wants to replace a certain field in parsed body from GraphQL arg. |




---
### RequestTemplate

 
Defines a configuration for generating outgoing requests for a resolver.
TODO(kdorosh): implement me

```yaml
"headers": map<string, .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider>
"queryParams": map<string, .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider>
"json": .solo.io.envoy.config.filter.http.graphql.v2.JsonNode

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `headers` | `map<string, .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider>` | Use this attribute to set request headers to your REST service. It consists of a map of strings to value providers. The string key determines the name of the resulting header, the value provided will be the value. at least need ":method" and ":path". |
| `queryParams` | `map<string, .solo.io.envoy.config.filter.http.graphql.v2.ValueProvider>` | Use this attribute to set query parameters to your REST service. It consists of a map of strings to value providers. The string key determines the name of the query param, the provided value will be the value. This value is appended to any value set to the :path header in `headers`. Interpolation is done in envoy rather than the control plane to prevent escaped character issues. |
| `json` | [.solo.io.envoy.config.filter.http.graphql.v2.JsonNode](../graphql.proto.sk/#jsonnode) | json representation of outgoing body. empty string key can be used to signal parsing the value as json and using it as the whole json body. |




---
### ResponseTemplate

 
Defines a response transformation template.
TODO(kdorosh): implement me (steal most logic from transformations code)

```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### RESTResolver

 
data-plane API
TODO(kdorosh): implement me

```yaml
"serverUri": .solo.io.envoy.config.core.v3.HttpUri
"requestTransform": .solo.io.envoy.config.filter.http.graphql.v2.RequestTemplate
"spanName": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `serverUri` | [.solo.io.envoy.config.core.v3.HttpUri](../../../../../../config/core/v3/http_uri.proto.sk/#httpuri) |  |
| `requestTransform` | [.solo.io.envoy.config.filter.http.graphql.v2.RequestTemplate](../graphql.proto.sk/#requesttemplate) | configuration used to compose the outgoing request to a REST API. |
| `spanName` | `string` | pre-execution engine transformations Request flow: GraphQL request -> request_transform (instantiate REST request) -> REST API resp -> pre_execution_transform -> execution engine -> complete GraphQL field response TODO(kdorosh): revist in follow up ResponseTemplate pre_execution_transform = 3;. |




---
### RESTResolverCP

 
control-plane API
TODO(kdorosh): implement me

```yaml
"openapi": .solo.io.envoy.config.filter.http.graphql.v2.RESTResolverCP.OpenApi

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `openapi` | [.solo.io.envoy.config.filter.http.graphql.v2.RESTResolverCP.OpenApi](../graphql.proto.sk/#openapi) | TODO(kdorosh): finish openapi api. |




---
### OpenApi



```yaml
"inline": string
"headers": map<string, string>
"baseUrl": string
"queryParams": map<string, string>
"selections": []solo.io.envoy.config.filter.http.graphql.v2.RESTResolverCP.OpenApi.SelectQueryOrMutationField

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `inline` | `string` |  |
| `headers` | `map<string, string>` | Use this attribute to set request headers to your REST service. ":method" and ":path" will result in errors, as all permutations of supported method/paths will be discovered as part of the OAS. |
| `baseUrl` | `string` | Specifies the URL on which all paths will be based on. Overrides the server object in the OAS. |
| `queryParams` | `map<string, string>` | query search parameters to add to the API calls. |
| `selections` | [[]solo.io.envoy.config.filter.http.graphql.v2.RESTResolverCP.OpenApi.SelectQueryOrMutationField](../graphql.proto.sk/#selectqueryormutationfield) | By default, GET requests become GraphQL queries and POST requests become mutations. By selecting certain endpoints, you can flip this default for those endpoints. |




---
### RemoteSource



```yaml
"remoteFile": string
"urlEndpoint": string
"schemaHeaders": map<string, string>

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `remoteFile` | `string` |  Only one of `remoteFile` or `urlEndpoint` can be set. |
| `urlEndpoint` | `string` |  Only one of `urlEndpoint` or `remoteFile` can be set. |
| `schemaHeaders` | `map<string, string>` | set headers for the HTTP request to fetch your openapi schema. |




---
### SelectQueryOrMutationField

 
TODO(kdorosh): allow regex?

```yaml
"title": string
"path": string
"method": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `title` | `string` | OAS title. |
| `path` | `string` |  |
| `method` | `string` |  |




---
### SubgraphResolver

 
TODO(yuval): implement a resolver for schema stiching

```yaml
"cluster": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `cluster` | `string` |  |




---
### ConstantResolver

 
a resolver that can return a result that is a constant function of its arguments.
TODO(kdorosh) do we even want to implement this (so far leaning no)

```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### AbstractTypeResolver

 
Resolve an abstract type (union or interface) to a real type.
When implemented, this message will be a field in the Resolution message.

```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### Query

 
When we'll support prepared queries, this will be the type containing the query.

```yaml
"query": .solo.io.envoy.config.core.v3.DataSource

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `query` | [.solo.io.envoy.config.core.v3.DataSource](../../../../../../config/core/v3/base.proto.sk/#datasource) |  |




---
### QueryMatcher



```yaml
"fieldMatcher": .solo.io.envoy.config.filter.http.graphql.v2.QueryMatcher.FieldMatcher

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `fieldMatcher` | [.solo.io.envoy.config.filter.http.graphql.v2.QueryMatcher.FieldMatcher](../graphql.proto.sk/#fieldmatcher) |  |




---
### FieldMatcher



```yaml
"type": string
"field": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `type` | `string` | Object type. For example, Query. |
| `field` | `string` | Field with in the object. |




---
### Resolution

 
This is the resolver map for the schema.
For each Type.Field, we can define a resolver.
if a field does not have resolver, the default resolver will be used.
the default resolver takes the field with the same name from the parent, and uses that value
to resolve the field.
if a field with the same name does not exist in the parent, null will be used.

```yaml
"matcher": .solo.io.envoy.config.filter.http.graphql.v2.QueryMatcher
"resolver": .solo.io.envoy.config.core.v3.TypedExtensionConfig

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `matcher` | [.solo.io.envoy.config.filter.http.graphql.v2.QueryMatcher](../graphql.proto.sk/#querymatcher) | Match an object type and field. |
| `resolver` | [.solo.io.envoy.config.core.v3.TypedExtensionConfig](../../../../../../config/core/v3/extension.proto.sk/#typedextensionconfig) | The resolver to use. |




---
### GraphQLConfig

 
Filter Listener config. Empty as the filter must be configured on the route level.

```yaml

```

| Field | Type | Description |
| ----- | ---- | ----------- | 




---
### GraphQLRouteConfig

 
Filter Route config. Routes that have this config will execute graphql queries, and will not
make it to the router filter. i.e. this filter will terminate the request for these routes.

```yaml
"schema": .solo.io.envoy.config.core.v3.DataSource
"enableIntrospection": bool
"resolutions": []solo.io.envoy.config.filter.http.graphql.v2.Resolution

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `schema` | [.solo.io.envoy.config.core.v3.DataSource](../../../../../../config/core/v3/base.proto.sk/#datasource) | Schema to use in string format. |
| `enableIntrospection` | `bool` | Do we enable introspection for the schema? general recommendation is to disable this for production and hence it defaults ot false. |
| `resolutions` | [[]solo.io.envoy.config.filter.http.graphql.v2.Resolution](../graphql.proto.sk/#resolution) | The resolver map to use to resovle the schema. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
