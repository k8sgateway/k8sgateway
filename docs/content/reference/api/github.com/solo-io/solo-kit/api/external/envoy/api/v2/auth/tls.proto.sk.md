
---
title: "tls.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `solo.io.envoy.api.v2.auth` 
#### Types:


- [UpstreamTlsContext](#upstreamtlscontext)
- [DownstreamTlsContext](#downstreamtlscontext)
- [CommonTlsContext](#commontlscontext)
- [CombinedCertificateValidationContext](#combinedcertificatevalidationcontext)
  



##### Source File: [github.com/solo-io/solo-kit/api/external/envoy/api/v2/auth/tls.proto](https://github.com/solo-io/solo-kit/blob/master/api/external/envoy/api/v2/auth/tls.proto)





---
### UpstreamTlsContext



```yaml
"commonTlsContext": .solo.io.envoy.api.v2.auth.CommonTlsContext
"sni": string
"allowRenegotiation": bool
"maxSessionKeys": .google.protobuf.UInt32Value

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `commonTlsContext` | [.solo.io.envoy.api.v2.auth.CommonTlsContext](../tls.proto.sk/#commontlscontext) | Common TLS context settings. .. attention:: Server certificate verification is not enabled by default. Configure :ref:`trusted_ca<envoy_api_field_auth.CertificateValidationContext.trusted_ca>` to enable verification. |
| `sni` | `string` | SNI string to use when creating TLS backend connections. |
| `allowRenegotiation` | `bool` | If true, server-initiated TLS renegotiation will be allowed. .. attention:: TLS renegotiation is considered insecure and shouldn't be used unless absolutely necessary. |
| `maxSessionKeys` | [.google.protobuf.UInt32Value](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/u-int-32-value) | Maximum number of session keys (Pre-Shared Keys for TLSv1.3+, Session IDs and Session Tickets for TLSv1.2 and older) to store for the purpose of session resumption. Defaults to 1, setting this to 0 disables session resumption. |




---
### DownstreamTlsContext

 
[#next-free-field: 8]

```yaml
"commonTlsContext": .solo.io.envoy.api.v2.auth.CommonTlsContext
"requireClientCertificate": .google.protobuf.BoolValue
"requireSni": .google.protobuf.BoolValue
"sessionTicketKeys": .solo.io.envoy.api.v2.auth.TlsSessionTicketKeys
"sessionTicketKeysSdsSecretConfig": .solo.io.envoy.api.v2.auth.SdsSecretConfig
"disableStatelessSessionResumption": bool
"sessionTimeout": .google.protobuf.Duration

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `commonTlsContext` | [.solo.io.envoy.api.v2.auth.CommonTlsContext](../tls.proto.sk/#commontlscontext) | Common TLS context settings. |
| `requireClientCertificate` | [.google.protobuf.BoolValue](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/bool-value) | If specified, Envoy will reject connections without a valid client certificate. |
| `requireSni` | [.google.protobuf.BoolValue](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/bool-value) | If specified, Envoy will reject connections without a valid and matching SNI. [#not-implemented-hide:]. |
| `sessionTicketKeys` | [.solo.io.envoy.api.v2.auth.TlsSessionTicketKeys](../common.proto.sk/#tlssessionticketkeys) | TLS session ticket key settings. Only one of `sessionTicketKeys`, or `disableStatelessSessionResumption` can be set. |
| `sessionTicketKeysSdsSecretConfig` | [.solo.io.envoy.api.v2.auth.SdsSecretConfig](../secret.proto.sk/#sdssecretconfig) | Config for fetching TLS session ticket keys via SDS API. Only one of `sessionTicketKeysSdsSecretConfig`, or `disableStatelessSessionResumption` can be set. |
| `disableStatelessSessionResumption` | `bool` | Config for controlling stateless TLS session resumption: setting this to true will cause the TLS server to not issue TLS session tickets for the purposes of stateless TLS session resumption. If set to false, the TLS server will issue TLS session tickets and encrypt/decrypt them using the keys specified through either :ref:`session_ticket_keys <envoy_api_field_auth.DownstreamTlsContext.session_ticket_keys>` or :ref:`session_ticket_keys_sds_secret_config <envoy_api_field_auth.DownstreamTlsContext.session_ticket_keys_sds_secret_config>`. If this config is set to false and no keys are explicitly configured, the TLS server will issue TLS session tickets and encrypt/decrypt them using an internally-generated and managed key, with the implication that sessions cannot be resumed across hot restarts or on different hosts. Only one of `disableStatelessSessionResumption`, or `sessionTicketKeysSdsSecretConfig` can be set. |
| `sessionTimeout` | [.google.protobuf.Duration](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/duration) | If specified, session_timeout will change maximum lifetime (in seconds) of TLS session Currently this value is used as a hint to `TLS session ticket lifetime (for TLSv1.2) <https://tools.ietf.org/html/rfc5077#section-5.6>` only seconds could be specified (fractional seconds are going to be ignored). |




---
### CommonTlsContext

 
TLS context shared by both client and server TLS contexts.
[#next-free-field: 9]

```yaml
"tlsParams": .solo.io.envoy.api.v2.auth.TlsParameters
"tlsCertificates": []solo.io.envoy.api.v2.auth.TlsCertificate
"tlsCertificateSdsSecretConfigs": []solo.io.envoy.api.v2.auth.SdsSecretConfig
"validationContext": .solo.io.envoy.api.v2.auth.CertificateValidationContext
"validationContextSdsSecretConfig": .solo.io.envoy.api.v2.auth.SdsSecretConfig
"combinedValidationContext": .solo.io.envoy.api.v2.auth.CommonTlsContext.CombinedCertificateValidationContext
"alpnProtocols": []string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `tlsParams` | [.solo.io.envoy.api.v2.auth.TlsParameters](../common.proto.sk/#tlsparameters) | TLS protocol versions, cipher suites etc. |
| `tlsCertificates` | [[]solo.io.envoy.api.v2.auth.TlsCertificate](../common.proto.sk/#tlscertificate) | :ref:`Multiple TLS certificates <arch_overview_ssl_cert_select>` can be associated with the same context to allow both RSA and ECDSA certificates. Only a single TLS certificate is supported in client contexts. In server contexts, the first RSA certificate is used for clients that only support RSA and the first ECDSA certificate is used for clients that support ECDSA. |
| `tlsCertificateSdsSecretConfigs` | [[]solo.io.envoy.api.v2.auth.SdsSecretConfig](../secret.proto.sk/#sdssecretconfig) | Configs for fetching TLS certificates via SDS API. |
| `validationContext` | [.solo.io.envoy.api.v2.auth.CertificateValidationContext](../common.proto.sk/#certificatevalidationcontext) | How to validate peer certificates. Only one of `validationContext`, or `combinedValidationContext` can be set. |
| `validationContextSdsSecretConfig` | [.solo.io.envoy.api.v2.auth.SdsSecretConfig](../secret.proto.sk/#sdssecretconfig) | Config for fetching validation context via SDS API. Only one of `validationContextSdsSecretConfig`, or `combinedValidationContext` can be set. |
| `combinedValidationContext` | [.solo.io.envoy.api.v2.auth.CommonTlsContext.CombinedCertificateValidationContext](../tls.proto.sk/#combinedcertificatevalidationcontext) | Combined certificate validation context holds a default CertificateValidationContext and SDS config. When SDS server returns dynamic CertificateValidationContext, both dynamic and default CertificateValidationContext are merged into a new CertificateValidationContext for validation. This merge is done by Message::MergeFrom(), so dynamic CertificateValidationContext overwrites singular fields in default CertificateValidationContext, and concatenates repeated fields to default CertificateValidationContext, and logical OR is applied to boolean fields. Only one of `combinedValidationContext`, or `validationContextSdsSecretConfig` can be set. |
| `alpnProtocols` | `[]string` | Supplies the list of ALPN protocols that the listener should expose. In practice this is likely to be set to one of two values (see the :ref:`codec_type <envoy_api_field_config.filter.network.http_connection_manager.v2.HttpConnectionManager.codec_type>` parameter in the HTTP connection manager for more information): * "h2,http/1.1" If the listener is going to support both HTTP/2 and HTTP/1.1. * "http/1.1" If the listener is only going to support HTTP/1.1. There is no default for this parameter. If empty, Envoy will not expose ALPN. |




---
### CombinedCertificateValidationContext



```yaml
"defaultValidationContext": .solo.io.envoy.api.v2.auth.CertificateValidationContext
"validationContextSdsSecretConfig": .solo.io.envoy.api.v2.auth.SdsSecretConfig

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `defaultValidationContext` | [.solo.io.envoy.api.v2.auth.CertificateValidationContext](../common.proto.sk/#certificatevalidationcontext) | How to validate peer certificates. |
| `validationContextSdsSecretConfig` | [.solo.io.envoy.api.v2.auth.SdsSecretConfig](../secret.proto.sk/#sdssecretconfig) | Config for fetching validation context via SDS API. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
