
---
title: "scoped_route.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `solo.io.envoy.api.v2` 
#### Types:


- [ScopedRouteConfiguration](#scopedrouteconfiguration)
- [Key](#key)
- [Fragment](#fragment)
  



##### Source File: [github.com/solo-io/solo-kit/api/external/envoy/api/v2/scoped_route.proto](https://github.com/solo-io/solo-kit/blob/master/api/external/envoy/api/v2/scoped_route.proto)





---
### ScopedRouteConfiguration

 
Specifies a routing scope, which associates a
:ref:`Key<envoy_api_msg_ScopedRouteConfiguration.Key>` to a
:ref:`envoy_api_msg_RouteConfiguration` (identified by its resource name).

The HTTP connection manager builds up a table consisting of these Key to
RouteConfiguration mappings, and looks up the RouteConfiguration to use per
request according to the algorithm specified in the
:ref:`scope_key_builder<envoy_api_field_config.filter.network.http_connection_manager.v2.ScopedRoutes.scope_key_builder>`
assigned to the HttpConnectionManager.

For example, with the following configurations (in YAML):

HttpConnectionManager config:

.. code::

  ...
  scoped_routes:
    name: foo-scoped-routes
    scope_key_builder:
      fragments:
        - header_value_extractor:
            name: X-Route-Selector
            element_separator: ,
            element:
              separator: =
              key: vip

ScopedRouteConfiguration resources (specified statically via
:ref:`scoped_route_configurations_list<envoy_api_field_config.filter.network.http_connection_manager.v2.ScopedRoutes.scoped_route_configurations_list>`
or obtained dynamically via SRDS):

.. code::

 (1)
  name: route-scope1
  route_configuration_name: route-config1
  key:
     fragments:
       - string_key: 172.10.10.20

 (2)
  name: route-scope2
  route_configuration_name: route-config2
  key:
    fragments:
      - string_key: 172.20.20.30

A request from a client such as:

.. code::

    GET / HTTP/1.1
    Host: foo.com
    X-Route-Selector: vip=172.10.10.20

would result in the routing table defined by the `route-config1`
RouteConfiguration being assigned to the HTTP request/stream.

```yaml
"name": string
"routeConfigurationName": string
"key": .solo.io.envoy.api.v2.ScopedRouteConfiguration.Key

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `name` | `string` | The name assigned to the routing scope. |
| `routeConfigurationName` | `string` | The resource name to use for a :ref:`envoy_api_msg_DiscoveryRequest` to an RDS server to fetch the :ref:`envoy_api_msg_RouteConfiguration` associated with this scope. |
| `key` | [.solo.io.envoy.api.v2.ScopedRouteConfiguration.Key](../scoped_route.proto.sk/#key) | The key to match against. |




---
### Key

 
Specifies a key which is matched against the output of the
:ref:`scope_key_builder<envoy_api_field_config.filter.network.http_connection_manager.v2.ScopedRoutes.scope_key_builder>`
specified in the HttpConnectionManager. The matching is done per HTTP
request and is dependent on the order of the fragments contained in the
Key.

```yaml
"fragments": []solo.io.envoy.api.v2.ScopedRouteConfiguration.Key.Fragment

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `fragments` | [[]solo.io.envoy.api.v2.ScopedRouteConfiguration.Key.Fragment](../scoped_route.proto.sk/#fragment) | The ordered set of fragments to match against. The order must match the fragments in the corresponding :ref:`scope_key_builder<envoy_api_field_config.filter.network.http_connection_manager.v2.ScopedRoutes.scope_key_builder>`. |




---
### Fragment



```yaml
"stringKey": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `stringKey` | `string` | A string to match against. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
