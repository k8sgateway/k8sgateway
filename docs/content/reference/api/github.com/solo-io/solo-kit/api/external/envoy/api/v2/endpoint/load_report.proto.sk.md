
---
title: "load_report.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `solo.io.envoy.api.v2.endpoint` 
#### Types:


- [UpstreamLocalityStats](#upstreamlocalitystats)
- [UpstreamEndpointStats](#upstreamendpointstats)
- [EndpointLoadMetricStats](#endpointloadmetricstats)
- [ClusterStats](#clusterstats)
- [DroppedRequests](#droppedrequests)
  



##### Source File: [github.com/solo-io/solo-kit/api/external/envoy/api/v2/endpoint/load_report.proto](https://github.com/solo-io/solo-kit/blob/master/api/external/envoy/api/v2/endpoint/load_report.proto)





---
### UpstreamLocalityStats

 
These are stats Envoy reports to GLB every so often. Report frequency is
defined by
:ref:`LoadStatsResponse.load_reporting_interval<envoy_api_field_service.load_stats.v2.LoadStatsResponse.load_reporting_interval>`.
Stats per upstream region/zone and optionally per subzone.
[#not-implemented-hide:] Not configuration. TBD how to doc proto APIs.
[#next-free-field: 9]

```yaml
"locality": .solo.io.envoy.api.v2.core.Locality
"totalSuccessfulRequests": int
"totalRequestsInProgress": int
"totalErrorRequests": int
"totalIssuedRequests": int
"loadMetricStats": []solo.io.envoy.api.v2.endpoint.EndpointLoadMetricStats
"upstreamEndpointStats": []solo.io.envoy.api.v2.endpoint.UpstreamEndpointStats
"priority": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `locality` | [.solo.io.envoy.api.v2.core.Locality](../../core/base.proto.sk/#locality) | Name of zone, region and optionally endpoint group these metrics were collected from. Zone and region names could be empty if unknown. |
| `totalSuccessfulRequests` | `int` | The total number of requests successfully completed by the endpoints in the locality. |
| `totalRequestsInProgress` | `int` | The total number of unfinished requests. |
| `totalErrorRequests` | `int` | The total number of requests that failed due to errors at the endpoint, aggregated over all endpoints in the locality. |
| `totalIssuedRequests` | `int` | The total number of requests that were issued by this Envoy since the last report. This information is aggregated over all the upstream endpoints in the locality. |
| `loadMetricStats` | [[]solo.io.envoy.api.v2.endpoint.EndpointLoadMetricStats](../load_report.proto.sk/#endpointloadmetricstats) | Stats for multi-dimensional load balancing. |
| `upstreamEndpointStats` | [[]solo.io.envoy.api.v2.endpoint.UpstreamEndpointStats](../load_report.proto.sk/#upstreamendpointstats) | Endpoint granularity stats information for this locality. This information is populated if the Server requests it by setting :ref:`LoadStatsResponse.report_endpoint_granularity<envoy_api_field_service.load_stats.v2.LoadStatsResponse.report_endpoint_granularity>`. |
| `priority` | `int` | [#not-implemented-hide:] The priority of the endpoint group these metrics were collected from. |




---
### UpstreamEndpointStats

 
[#not-implemented-hide:] Not configuration. TBD how to doc proto APIs.
[#next-free-field: 8]

```yaml
"address": .solo.io.envoy.api.v2.core.Address
"metadata": .google.protobuf.Struct
"totalSuccessfulRequests": int
"totalRequestsInProgress": int
"totalErrorRequests": int
"totalIssuedRequests": int
"loadMetricStats": []solo.io.envoy.api.v2.endpoint.EndpointLoadMetricStats

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `address` | [.solo.io.envoy.api.v2.core.Address](../../core/address.proto.sk/#address) | Upstream host address. |
| `metadata` | [.google.protobuf.Struct](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/struct) | Opaque and implementation dependent metadata of the endpoint. Envoy will pass this directly to the management server. |
| `totalSuccessfulRequests` | `int` | The total number of requests successfully completed by the endpoints in the locality. These include non-5xx responses for HTTP, where errors originate at the client and the endpoint responded successfully. For gRPC, the grpc-status values are those not covered by total_error_requests below. |
| `totalRequestsInProgress` | `int` | The total number of unfinished requests for this endpoint. |
| `totalErrorRequests` | `int` | The total number of requests that failed due to errors at the endpoint. For HTTP these are responses with 5xx status codes and for gRPC the grpc-status values: - DeadlineExceeded - Unimplemented - Internal - Unavailable - Unknown - DataLoss. |
| `totalIssuedRequests` | `int` | The total number of requests that were issued to this endpoint since the last report. A single TCP connection, HTTP or gRPC request or stream is counted as one request. |
| `loadMetricStats` | [[]solo.io.envoy.api.v2.endpoint.EndpointLoadMetricStats](../load_report.proto.sk/#endpointloadmetricstats) | Stats for multi-dimensional load balancing. |




---
### EndpointLoadMetricStats

 
[#not-implemented-hide:] Not configuration. TBD how to doc proto APIs.

```yaml
"metricName": string
"numRequestsFinishedWithMetric": int
"totalMetricValue": float

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `metricName` | `string` | Name of the metric; may be empty. |
| `numRequestsFinishedWithMetric` | `int` | Number of calls that finished and included this metric. |
| `totalMetricValue` | `float` | Sum of metric values across all calls that finished with this metric for load_reporting_interval. |




---
### ClusterStats

 
Per cluster load stats. Envoy reports these stats a management server in a
:ref:`LoadStatsRequest<envoy_api_msg_service.load_stats.v2.LoadStatsRequest>`
[#not-implemented-hide:] Not configuration. TBD how to doc proto APIs.
Next ID: 7
[#next-free-field: 7]

```yaml
"clusterName": string
"clusterServiceName": string
"upstreamLocalityStats": []solo.io.envoy.api.v2.endpoint.UpstreamLocalityStats
"totalDroppedRequests": int
"droppedRequests": []solo.io.envoy.api.v2.endpoint.ClusterStats.DroppedRequests
"loadReportInterval": .google.protobuf.Duration

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `clusterName` | `string` | The name of the cluster. |
| `clusterServiceName` | `string` | The eds_cluster_config service_name of the cluster. It's possible that two clusters send the same service_name to EDS, in that case, the management server is supposed to do aggregation on the load reports. |
| `upstreamLocalityStats` | [[]solo.io.envoy.api.v2.endpoint.UpstreamLocalityStats](../load_report.proto.sk/#upstreamlocalitystats) | Need at least one. |
| `totalDroppedRequests` | `int` | Cluster-level stats such as total_successful_requests may be computed by summing upstream_locality_stats. In addition, below there are additional cluster-wide stats. The total number of dropped requests. This covers requests deliberately dropped by the drop_overload policy and circuit breaking. |
| `droppedRequests` | [[]solo.io.envoy.api.v2.endpoint.ClusterStats.DroppedRequests](../load_report.proto.sk/#droppedrequests) | Information about deliberately dropped requests for each category specified in the DropOverload policy. |
| `loadReportInterval` | [.google.protobuf.Duration](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/duration) | Period over which the actual load report occurred. This will be guaranteed to include every request reported. Due to system load and delays between the *LoadStatsRequest* sent from Envoy and the *LoadStatsResponse* message sent from the management server, this may be longer than the requested load reporting interval in the *LoadStatsResponse*. |




---
### DroppedRequests



```yaml
"category": string
"droppedCount": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `category` | `string` | Identifier for the policy specifying the drop. |
| `droppedCount` | `int` | Total number of deliberately dropped requests for the category. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
